{"version":3,"sources":["rooms/RoomList.js","rooms/RoomForm.js","messages/MessageList.js","messages/MessageForm.js","registration/RegistrationForm.js","login/Login.js","header/Header.js","App.js","reportWebVitals.js","index.js"],"names":["RoomList","props","roomListTitlesHTML","roomList","map","room","i","className","style","padding","value","id","type","onClick","fetchMessagesForThatRoom","name","width","display","flexDirection","alignItems","Room","useState","newRoom","setNewRoom","a","fetch","method","headers","Cookies","get","body","JSON","stringify","response","setRoomList","ok","onSubmit","e","preventDefault","addRoom","htmlFor","placeholder","onChange","target","MessageList","editedMessage","setEditedMessage","isEditing","setIsEditing","deleteMessage","event","then","Error","status","parentNode","remove","updatedMessage","text","chat_room","messageList","options","console","log","json","currentRoom","message","username","MessageForm","newMessage","setNewMessage","setMessageList","addMessage","RegistrationForm","error","setError","handleChange","setUser","prevState","user","password1","password2","handleRegistration","required","email","Login","password","userr","setUserr","handleLogin","history","push","Header","to","src","App","setCurrentRoom","isAuth","setIsAuth","useHistory","data","messages","useEffect","checkAuth","fetchRooms","handleError","err","warn","catch","set","key","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e7fd23f6.chunk.js","sourcesContent":["export default function RoomList(props) {\n  // const [messageList, setMessageList] = useState([]);\n\n  const roomListTitlesHTML = props.roomList.map((room, i) => (\n    <li\n      key={room.id}\n      className=\"btn-group-vertical\"\n      style={{ padding: \"10px\" }}\n    >\n      <button\n        value={room.id}\n        className=\"room-list-buttons\"\n        type=\"button\"\n        onClick={props.fetchMessagesForThatRoom}\n      >\n        # {room.name}\n      </button>\n    </li>\n  ));\n\n  return (\n    <aside\n      style={{\n        width: \"25%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n      }}\n    >\n      <ul>{roomListTitlesHTML}</ul>\n    </aside>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport Cookies from \"js-cookie\";\nexport default function Room(props) {\n  const [newRoom, setNewRoom] = useState({\n    name: \"\",\n  });\n\n  async function addRoom(name) {\n    // const response = await fetch(`/api_v1/rooms/`, {\n    //   method: \"POST\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //   },\n    //   body: JSON.stringify(newRoom),\n    // });\n    // props.setRoomList([...props.roomList, newRoom]);\n    // // console.log({ response });\n    // if (response.ok) {\n    //   setNewRoom(name);\n    //   props.setCurrentRoom(newRoom);\n    // }\n    const newRoom = { name };\n    const response = await fetch(`/api_v1/rooms/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n      },\n      body: JSON.stringify(newRoom),\n    });\n    props.setRoomList([...props.roomList, newRoom]);\n\n    if (response.ok) {\n    }\n  }\n\n  function handleChange(e) {\n    setNewRoom(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    addRoom(newRoom);\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} className=\"new-room-form\">\n        <label htmlFor=\"new-room\"></label>\n        <input\n          type=\"text\"\n          name=\"name-for-newroom\"\n          placeholder=\"New Room\"\n          onChange={handleChange}\n        />\n        <button className=\"room-add-button\" type=\"submit\">\n          +\n        </button>\n      </form>\n    </div>\n  );\n}\n","import Cookies from \"js-cookie\";\nimport { useState } from \"react\";\nimport Room from \"../rooms/RoomForm\";\nimport MessageItem from \"./MessageItem\";\n\nexport default function MessageList(props) {\n  const [editedMessage, setEditedMessage] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n\n  async function deleteMessage(event) {\n    fetch(`api_v1/messages/${event.target.value}/`, {\n      method: \"DELETE\",\n      headers: {\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n      },\n    }).then((response) => {\n      if (!response.ok) {\n        throw new Error(\"Oops, something went wrong!\", response.status);\n      }\n      event.target.parentNode.remove();\n    });\n  }\n\n  async function editMessage(event) {\n    event.preventDefault();\n    const updatedMessage = {\n      text: editedMessage,\n      chat_room: props.room,\n    };\n    // console.log(\"text\", props.messageList[id].text);\n    // // const index = props.messageList.findIndex((message) => message.id === id);\n    // const updatedMessages = [...props.messageList];\n    // updatedMessages[event.target.value] = text;\n    // setEditedMessage(updatedMessages);\n    const updatedMessages = { ...props.messageList };\n    updatedMessages[event.target.value] = updatedMessage;\n    const options = {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n      },\n\n      body: JSON.stringify(updatedMessage),\n    };\n    const response = await fetch(`/api_v1/messages/${isEditing}/`, options);\n    if (!response) {\n      console.log(response);\n    } else {\n      const data = await response.json();\n      setIsEditing(false);\n      setEditedMessage(updatedMessage.text);\n    }\n  }\n  function handleChange(event) {\n    setEditedMessage(event.target.value);\n  }\n\n  return (\n    <>\n      <h3># {props.currentRoom.name}</h3>\n      <ul>\n        {isEditing && (\n          <form onSubmit={editMessage}>\n            <input\n              type=\"text\"\n              name=\"newText\"\n              value={props.id}\n              onChange={handleChange}\n            />\n            <button type=\"submit\">Update</button>\n          </form>\n        )}\n        {/* {props.room.name} */}\n        {props.messageList?.map((message) => (\n          <li key={message.id}>\n            <p style={{ padding: \"10px\" }} value={message.id}>\n              {message.username}: {message.text}\n            </p>\n            <button\n              type=\"button\"\n              value={message.id}\n              onClick={() => setIsEditing(message.id)}\n            >\n              Edit\n            </button>\n            <button type=\"click\" value={message.id} onClick={deleteMessage}>\n              Delete\n            </button>\n          </li>\n        ))}\n        {/* {props.messageList.map((message) => (\n          <MessageItem\n            key={message.id}\n            {...message}\n            deleteMessage={deleteMessage}\n            // editMessage={editMessage}\n          />\n        ))} */}\n      </ul>\n    </>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport Room from \"../rooms/RoomForm\";\nimport Cookies from \"js-cookie\";\n\nexport default function MessageForm(props) {\n  const [newMessage, setNewMessage] = useState({\n    text: \"\",\n  });\n\n  async function addMessage(text) {\n    console.log({ text });\n    const newMessage = { text, chat_room: props.currentRoom.id };\n    const response = await fetch(`/api_v1/messages/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n      },\n      body: JSON.stringify(newMessage),\n    });\n    console.log({ response });\n    props.setMessageList([...props.messageList, newMessage]);\n\n    if (response.ok) {\n    }\n  }\n\n  function handleChange(e) {\n    setNewMessage(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    addMessage(newMessage, props.roomList);\n  }\n\n  return (\n    <div className=\"message-form-container\">\n      <label htmlFor=\"sendingmessages\"></label>\n      <form onSubmit={handleSubmit}>\n        <input\n          onChange={handleChange}\n          type=\"text\"\n          placeholder=\"Write a message\"\n        />\n        <button className=\"send-button\" type=\"submit\">\n          Send\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function RegistrationForm(props) {\n  const [error, setError] = useState(null);\n  //   const history = useHistory;\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    props.setUser((prevState) => ({\n      ...prevState,\n\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (props.user.password1 !== props.user.password2) {\n      setError(\"Passwords do not match!\");\n    } else {\n      props.handleRegistration(props.user);\n      //   props.history.push(\"/chat\");\n    }\n  };\n\n  return (\n    <form className=\"mt-3\" onSubmit={handleSubmit}>\n      <div className=\"form-group text-left mb-3\">\n        <label htmlFor=\"username\">Username</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"username\"\n          placeholder=\"Enter username.\"\n          required\n          name=\"username\"\n          onChange={handleChange}\n          value={props.user.username}\n        />\n      </div>\n      <div className=\"form-group text-left mb-3\">\n        <label htmlFor=\"email\">Email</label>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          id=\"email\"\n          placeholder=\"Enter email.\"\n          required\n          name=\"email\"\n          onChange={handleChange}\n          value={props.user.email}\n        />\n      </div>\n      <div className=\"form-group text-left mb-3\">\n        <label htmlFor=\"password1\">Password</label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password1\"\n          placeholder=\"Enter password.\"\n          required\n          name=\"password1\"\n          onChange={handleChange}\n          value={props.user.password1}\n        />\n      </div>\n      <div className=\"form-group text-left mb-3\">\n        <label htmlFor=\"password2\">Confirm your password</label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password2\"\n          placeholder=\"Re-enter your password.\"\n          required\n          name=\"password2\"\n          onChange={handleChange}\n          value={props.user.password2}\n        />\n        <span className=\"text-danger\">{error}</span>\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary mt-3\">\n        Register\n      </button>\n    </form>\n  );\n}\n","import { useState } from \"react\";\nexport default function Login(props) {\n  const [userr, setUserr] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUserr((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleLogin(userr);\n    props.history.push(\"/chat\");\n  };\n  return (\n    <form className=\"mt-3\" onSubmit={handleSubmit}>\n      <div className=\"form-group text-left mb-3\">\n        <label htmlFor=\"username\">Username</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"username\"\n          placeholder=\"Enter username.\"\n          required\n          name=\"username\"\n          onChange={handleChange}\n          value={userr.username}\n        />\n      </div>\n      {/* <div className=\"form-group text-left mb-3\">\n        <label htmlFor=\"email\">Email</label>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          id=\"email\"\n          placeholder=\"Enter email.\"\n          required\n          name=\"email\"\n          onChange={handleChange}\n          value={props.email}\n        />\n      </div> */}\n      <div className=\"form-group text-left mb-3\">\n        <label htmlFor=\"password\">Password</label>\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\"\n          placeholder=\"Re-enter your password.\"\n          required\n          name=\"password\"\n          onChange={handleChange}\n          value={userr.password}\n        />\n        <span className=\"text-danger\">{props.error}</span>\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary mt-3\">\n        Login\n      </button>\n    </form>\n  );\n}\n","import { NavLink } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nexport default function Header(props) {\n  return (\n    <nav className=\"navbar navbar-expand-lg \">\n      <div className=\"container\">\n        <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n          <ul className=\"navbar-nav ml-auto\">\n            <li>\n              <NavLink className=\"navbar-brand\" to=\"/\">\n                <img src=\"\" />\n              </NavLink>\n            </li>\n            <li className=\"nav-item secondary-nav-item p-3\">\n              <NavLink to=\"/register\">Register</NavLink>\n            </li>\n            <li className=\"nav-item secondary-nav-item p-3\">\n              <NavLink to=\"/login\">Login</NavLink>\n            </li>\n\n            <li className=\"nav-item secondary-nav-item p-3\">\n              <NavLink to=\"/chat\">Chat</NavLink>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n","import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport RoomList from \"./rooms/RoomList\";\nimport RoomForm from \"./rooms/RoomForm\";\nimport MessageList from \"./messages/MessageList\";\nimport MessageForm from \"./messages/MessageForm\";\nimport RegistrationForm from \"./registration/RegistrationForm\";\nimport Cookies from \"js-cookie\";\nimport Login from \"./login/Login.js\";\nimport { useHistory, Switch, Route, Redirect } from \"react-router-dom\";\nimport Header from \"./header/Header\";\n\nfunction App() {\n  const [roomList, setRoomList] = useState([]);\n  // const [selection, setSelection] = useState([]);\n  const [messageList, setMessageList] = useState([]);\n  const [user, setUser] = useState({\n    username: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  const [currentRoom, setCurrentRoom] = useState({\n    name: \"\",\n    id: null,\n  });\n  const [isAuth, setIsAuth] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    const checkAuth = async () => {\n      const response = await fetch(\"/rest-auth/user\");\n      if (!response.ok) {\n        setIsAuth(false);\n        // history.push(\"/login\");\n      } else {\n        setIsAuth(true);\n        // history.push(\"/account\");\n      }\n    };\n    checkAuth();\n  }, [history]);\n\n  useEffect(() => {\n    // async function getUser() {\n    //   if (Cookies.get(\"csrftoken\")) {\n    //     let currentUser = setUser();\n    //   }\n    // }\n    async function fetchRooms() {\n      const response = await fetch(`/api_v1/rooms/`);\n      const data = await response.json();\n      console.log(\"rooms\", data);\n      setRoomList(data);\n    }\n    fetchRooms();\n  }, []);\n\n  async function fetchMessagesForThatRoom(event) {\n    const response = await fetch(`/api_v1/rooms/${event.target.value}/`);\n    const data = await response.json();\n    console.log(\"currentRoom\", data);\n    setCurrentRoom(data);\n    setMessageList(data.messages);\n  }\n\n  // let messages;\n  // if (selection == \"\") {\n  //   messages = roomList.find((message) => message === selection);\n  // }\n\n  // function selectRoom(text) {\n  //   setSelection(text);\n  // }\n\n  const handleError = (err) => {\n    console.warn(err);\n  };\n  const handleRegistration = async (user) => {\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n      },\n      body: JSON.stringify(user),\n    };\n\n    const response = await fetch(\"/rest-auth/registration/\", options).catch(\n      handleError\n    );\n    if (!response === true) {\n      console.warn(response);\n    } else {\n      const data = await response.json();\n      Cookies.set(\"Authorization\", `Token ${data.key}`);\n    }\n  };\n\n  const handleLogin = async (userr) => {\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n      },\n      body: JSON.stringify(userr),\n    };\n\n    const response = await fetch(\"/rest-auth/login/\", options).catch(\n      handleError\n    );\n    if (!response === true) {\n      console.warn(response);\n    } else {\n      const data = await response.json();\n      Cookies.set(\"Authorization\", `Token ${data.key}`);\n    }\n  };\n  async function handleLogoutSubmit(event) {\n    // event.preventDefault();\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\n      },\n      body: JSON.stringify(user),\n    };\n    const response = await fetch(\"/rest-auth/logout/\", options);\n    if (!response) {\n      console.log(response);\n    } else {\n      console.log(response);\n      const data = await response.json();\n      Cookies.remove(\"Authorization\");\n      setIsAuth(false);\n      history.push(\"/login\");\n    }\n  }\n\n  return (\n    <div className=\"chatApp\">\n      <nav className=\"nav-bar\">\n        <button onClick={handleLogoutSubmit}>Logout</button>\n      </nav>\n      <Header />\n\n      <Switch>\n        <Route exact path=\"/\">\n          <Redirect to=\"/register\" />\n        </Route>\n        <Route path=\"/register\">\n          <RegistrationForm\n            user={user}\n            setUser={setUser}\n            handleRegistration={handleRegistration}\n            handleError={handleError}\n          />\n        </Route>\n        <Route path=\"/login\">\n          <Login handleLogin={handleLogin} history={history} />\n        </Route>\n        <Route path=\"/chat\">\n          <div className=\"app-container\">\n            <section className=\"room-list-container\">\n              Rooms\n              <RoomList\n                roomList={roomList}\n                fetchMessagesForThatRoom={fetchMessagesForThatRoom}\n              />\n              <RoomForm\n                roomList={roomList}\n                setRoomList={setRoomList}\n                fetchMessagesForThatRoom={fetchMessagesForThatRoom}\n                setCurrentRoom={setCurrentRoom}\n                isAuth={isAuth}\n              />\n            </section>\n            <section className=\"message-list-container\">\n              <MessageList\n                messageList={messageList}\n                roomList={roomList}\n                room={currentRoom.id}\n                currentRoom={currentRoom}\n              />\n\n              <MessageForm\n                currentRoom={currentRoom}\n                messageList={messageList}\n                setMessageList={setMessageList}\n                roomList={roomList}\n              />\n            </section>\n          </div>\n        </Route>\n        <Route></Route>\n      </Switch>\n      {/* <div className=\"app-container\">\n        <section className=\"room-list-container\">\n          Rooms\n          <RoomList\n            roomList={roomList}\n            fetchMessagesForThatRoom={fetchMessagesForThatRoom}\n          />\n          <RoomForm\n            roomList={roomList}\n            setRoomList={setRoomList}\n            fetchMessagesForThatRoom={fetchMessagesForThatRoom}\n            setCurrentRoom={setCurrentRoom}\n          />\n        </section>\n        <section className=\"message-list-container\">\n          <MessageList messageList={messageList} roomList={roomList} />\n          <MessageForm\n            currentRoom={currentRoom}\n            messageList={messageList}\n            setMessageList={setMessageList}\n            roomList={roomList}\n          />\n        </section>\n      </div>\n\n      <RegistrationForm\n        user={user}\n        setUser={setUser}\n        handleRegistration={handleRegistration}\n        handleError={handleError}\n      />\n\n      <Login handleLogin={handleLogin} handleError={handleError} /> */}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}